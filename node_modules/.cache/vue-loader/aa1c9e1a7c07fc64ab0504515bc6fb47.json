{"remainingRequest":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edy/Desktop/gitlab/image-hotpot/src/components/HotspotImage/Main/AreaBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/edy/Desktop/gitlab/image-hotpot/src/components/HotspotImage/Main/AreaBox.vue","mtime":1628478882844},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/cache-loader/dist/cjs.js","mtime":1625024217486},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/babel-loader/lib/index.js","mtime":1628478904830},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/cache-loader/dist/cjs.js","mtime":1625024217486},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1628478909545}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'AreaBox',\n  props: {\n    areaInit: {\n      type: Object,\n      default: () => {\n      }\n    },\n    id: {\n      type: Number,\n      default: null\n    }\n  },\n  data() {\n    return {\n      editBoxShow: false,\n      search: '小黄人',\n      promptText: '双击设置热区',\n      // box操作初始点\n      move: {\n        // 拖动\n        startX: 0,\n        starY: 0,\n        // 形变\n        start1X: 0,\n        start1Y: 0\n      },\n      // 编辑链接的信息\n      // 0 -> 代表默认\n      urlMessage: {\n        // 0 -> 选择商品；1 -> 输入链接\n        methods: 1,\n        select: '_blank',\n        url: '',\n        // 如果在选择商品页面对应的ID,标记已选\n        sign: null\n      },\n      // 选择商品的表单数据\n      tableData: [{\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }, {\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }, {\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }, {\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }, {\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }]\n    }\n  },\n  methods: {\n    // 删除\n    del() {\n      this.$emit('DelAreaBox', this.id)\n    },\n    // 添加网址\n    addURL() {\n      if (this.urlMessage.url === '') {\n        alert('请输入')\n      } else {\n        this.$emit('addURL', this.id, this.urlMessage)\n        this.editBoxShow = false\n      }\n    },\n    // 开始拖动\n    mouseDown(e) {\n      this.starX = e.clientX\n      this.starY = e.clientY\n      if (!document.onmousemove) {\n        const initX = this.areaInit.starX\n        const initY = this.areaInit.starY\n        document.onmousemove = (ev) => {\n          this.areaInit.starX = initX + ev.clientX - this.starX\n          this.areaInit.starY = initY + ev.clientY - this.starY\n        }\n      }\n    },\n    // 结束拖动/变形\n    mouseUp() {\n      document.onmousemove = null\n    },\n    // 形变开始\n    shapeDown(e) {\n      this.star1X = e.clientX\n      this.star1Y = e.clientY\n      if (!document.onmousemove) {\n        const initX = this.areaInit.areaWidth\n        const initY = this.areaInit.areaHeight\n        document.onmousemove = (ev) => {\n          this.areaInit.areaWidth = initX + ev.clientX - this.star1X\n          this.areaInit.areaHeight = initY + ev.clientY - this.star1Y\n        }\n      }\n    },\n    // 点击选择改变跳转的url\n    handleSelect(index, row, scope) {\n      this.urlMessage.sign = row.shopNo\n      console.log(index)\n      console.log(row)\n      console.log(scope)\n    },\n    // 切换页面\n    pageSizeChange(val) {\n      console.log(val)\n    }\n  }\n}\n",{"version":3,"sources":["AreaBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AreaBox.vue","sourceRoot":"src/components/HotspotImage/Main","sourcesContent":["<template>\n  <div\n    class=\"areaBox\"\n    :style=\"{width: areaInit.areaWidth+'px',height: areaInit.areaHeight+'px',left: areaInit.starX+'px',top: areaInit.starY+'px'}\"\n    @dblclick=\"editBoxShow=true\"\n    @mousedown.left.stop=\"mouseDown($event)\"\n    @mouseup.left.stop=\"mouseUp($event)\"\n  >\n    <span class=\"promptText\">{{ promptText }}</span>\n    <!--删除-->\n    <div class=\"del\" @click.stop=\"del()\" />\n    <!--形变点-->\n    <div\n      class=\"shape\"\n      @mousedown.left.stop=\"shapeDown($event)\"\n      @mouseup.left.stop=\"mouseUp($event)\"\n    />\n    <!--编辑框-->\n    <div v-show=\"editBoxShow\" class=\"editBox\" @mousedown.stop=\"\">\n      <div class=\"editCase\">\n        <div class=\"caseTitle\">\n          <span>热区设置</span>\n          <div class=\"close\" @click.stop=\"editBoxShow=false\" />\n        </div>\n        <div class=\"caseContent\">\n          <div class=\"urlMethod\">\n            <div :class=\"{active:urlMessage.methods === 0}\" @click=\"urlMessage.methods=0\">\n              选择商品\n            </div>\n            <div :class=\"{active:urlMessage.methods === 1}\" @click=\"urlMessage.methods=1\">\n              输入链接\n            </div>\n          </div>\n          <div class=\"selectBox\">\n            <div class=\"openWay\" @click=\"urlMessage.select='_blank'\">\n              <div :class=\"['dot',{active:urlMessage.select==='_blank'}]\" />\n              <div class=\"text\">\n                新窗口打开\n              </div>\n            </div>\n            <div class=\"openWay\" @click=\"urlMessage.select='_self'\">\n              <div :class=\"['dot',{active:urlMessage.select==='_self'}]\" />\n              <div class=\"text\">\n                当前窗口打开\n              </div>\n            </div>\n          </div>\n          <!--选择商品-->\n          <div v-show=\"urlMessage.methods===0\" class=\"contentBox\">\n            <div class=\"searchBox\">\n              <span>输入查询：</span>\n              <input v-model=\"search\" type=\"text\">\n              <div class=\"btn\">\n                查询\n              </div>\n            </div>\n            <div class=\"searchList\">\n              <!--选择商品的表单element插件-->\n              <el-table\n                :data=\"tableData\"\n                style=\"width: 100%\"\n                border\n                height=\"300\"\n              >\n                <el-table-column label=\"选择\" width=\"100\">\n                  <template slot-scope=\"scope\">\n                    <el-button\n                      size=\"mini\"\n                      @click=\"handleSelect(scope.$index, scope.row, scope)\"\n                    >\n                      {{ urlMessage.methods === 0&&scope.row.shopNo\n                        === urlMessage.sign?'已选':'选择' }}\n                    </el-button>\n                  </template>\n                </el-table-column>\n                <el-table-column\n                  prop=\"shopName\"\n                  label=\"商品名称\"\n                />\n                <el-table-column\n                  prop=\"shopNo\"\n                  label=\"商品货号\"\n                  width=\"150\"\n                />\n                <el-table-column\n                  prop=\"shopSize\"\n                  label=\"规格\"\n                  width=\"150\"\n                />\n                <el-table-column\n                  prop=\"shopPrice\"\n                  label=\"价格\"\n                  width=\"100\"\n                />\n              </el-table>\n              <el-pagination\n                style=\"padding: 30px 0 10px 20px\"\n                layout=\"prev, pager, next\"\n                :total=\"1000\"\n                @current-change=\"pageSizeChange\"\n              />\n            </div>\n          </div>\n          <!--输入链接-->\n          <div v-show=\"urlMessage.methods===1\" class=\"contentBox\">\n            <div class=\"searchBox handle\">\n              <span>链接地址：</span>\n              <input\n                v-model=\"urlMessage.url\"\n                class=\"urlInput\"\n                type=\"text\"\n                placeholder=\"请输入URL链接地址（如http://www.baidu.com)\"\n              >\n            </div>\n          </div>\n          <!--<div class=\"inputBox\">\n                      <span>跳转网址:</span>\n                      <input type=\"text\" v-model=\"url\">\n                    </div>-->\n          <div class=\"btnBox\">\n            <div class=\"yes\" @click=\"addURL\">\n              确定\n            </div>\n            <div class=\"no\" @click=\"editBoxShow=false\">\n              取消\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AreaBox',\n  props: {\n    areaInit: {\n      type: Object,\n      default: () => {\n      }\n    },\n    id: {\n      type: Number,\n      default: null\n    }\n  },\n  data() {\n    return {\n      editBoxShow: false,\n      search: '小黄人',\n      promptText: '双击设置热区',\n      // box操作初始点\n      move: {\n        // 拖动\n        startX: 0,\n        starY: 0,\n        // 形变\n        start1X: 0,\n        start1Y: 0\n      },\n      // 编辑链接的信息\n      // 0 -> 代表默认\n      urlMessage: {\n        // 0 -> 选择商品；1 -> 输入链接\n        methods: 1,\n        select: '_blank',\n        url: '',\n        // 如果在选择商品页面对应的ID,标记已选\n        sign: null\n      },\n      // 选择商品的表单数据\n      tableData: [{\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }, {\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }, {\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }, {\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }, {\n        shopName: 'Iphone666',\n        shopNo: '146666',\n        shopSize: '土豪金',\n        shopPrice: '$1'\n      }]\n    }\n  },\n  methods: {\n    // 删除\n    del() {\n      this.$emit('DelAreaBox', this.id)\n    },\n    // 添加网址\n    addURL() {\n      if (this.urlMessage.url === '') {\n        alert('请输入')\n      } else {\n        this.$emit('addURL', this.id, this.urlMessage)\n        this.editBoxShow = false\n      }\n    },\n    // 开始拖动\n    mouseDown(e) {\n      this.starX = e.clientX\n      this.starY = e.clientY\n      if (!document.onmousemove) {\n        const initX = this.areaInit.starX\n        const initY = this.areaInit.starY\n        document.onmousemove = (ev) => {\n          this.areaInit.starX = initX + ev.clientX - this.starX\n          this.areaInit.starY = initY + ev.clientY - this.starY\n        }\n      }\n    },\n    // 结束拖动/变形\n    mouseUp() {\n      document.onmousemove = null\n    },\n    // 形变开始\n    shapeDown(e) {\n      this.star1X = e.clientX\n      this.star1Y = e.clientY\n      if (!document.onmousemove) {\n        const initX = this.areaInit.areaWidth\n        const initY = this.areaInit.areaHeight\n        document.onmousemove = (ev) => {\n          this.areaInit.areaWidth = initX + ev.clientX - this.star1X\n          this.areaInit.areaHeight = initY + ev.clientY - this.star1Y\n        }\n      }\n    },\n    // 点击选择改变跳转的url\n    handleSelect(index, row, scope) {\n      this.urlMessage.sign = row.shopNo\n      console.log(index)\n      console.log(row)\n      console.log(scope)\n    },\n    // 切换页面\n    pageSizeChange(val) {\n      console.log(val)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\" ref=\"stylesheet/scss\">\n  .areaBox {\n    position: absolute;\n    background: rgba(#2980b9, 0.3);\n    border: 0.7px dashed #34495e;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #34495e;\n    font-size: 14px;\n    cursor: move;\n\n    .promptText {\n      overflow: hidden;\n      display: inline;\n      max-width: 100%;\n      max-height: 100%;\n      text-align: center;\n    }\n\n    .del {\n      width: 10px;\n      height: 10px;\n      background: #bdc3c7;\n      border-radius: 50%;\n      position: absolute;\n      right: 0;\n      top: 0;\n      transform: translate3d(50%, -50%, 0);\n      cursor: default;\n    }\n\n    .del:hover {\n      background: #ecf0f1;\n    }\n\n    .shape {\n      position: absolute;\n      width: 7px;\n      height: 7px;\n      background: transparent;\n      right: 0;\n      bottom: 0;\n      transform: translate3d(50%, 50%, 0);\n      cursor: nwse-resize;\n    }\n\n    .editBox {\n      position: fixed;\n      display: block;\n      min-width: 100%;\n      min-height: 100%;\n      z-index: 999;\n      cursor: default;\n      background: rgba(#2c3e50, 0.8);\n      top: 0;\n      left: 0;\n      animation: fadeIn 0.5s;\n\n      .editCase {\n        width: 50%;\n        /*height: 100%;*/\n        border-radius: 5px;\n        overflow: hidden;\n        background: #ecf0f1;\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate3d(-50%, -50%, 0);\n        display: flex;\n        flex-direction: column;\n\n        .caseTitle {\n          height: 30px;\n          line-height: 30px;\n          padding-left: 7px;\n          background: #409EFF;\n          color: #ecf0f1;\n          position: relative;\n\n          .close {\n            width: 10px;\n            height: 10px;\n            border-radius: 50%;\n            background: #bdc3c7;\n            position: absolute;\n            right: 0;\n            top: 50%;\n            transform: translate3d(-80%, -50%, 0);\n          }\n\n          .close:hover {\n            background: #ecf0f1;\n          }\n        }\n\n        .caseContent {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          padding: 0 15px 15px 25px;\n\n          .urlMethod {\n            display: flex;\n            height: 50px;\n            align-items: center;\n\n            > div {\n              width: 100px;\n              height: 27px;\n              border: 0.7px solid #409EFF;\n              text-align: center;\n              line-height: 27px;\n              transition: all 0.5s;\n            }\n\n            > div:first-child {\n              border-right: 0;\n            }\n\n            .active {\n              background: #409EFF;\n              color: #ecf0f1;\n            }\n          }\n\n          .selectBox {\n            display: flex;\n            height: 30px;\n            align-items: center;\n\n            .openWay {\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              margin-left: 10px;\n\n              .dot {\n                width: 12px;\n                height: 12px;\n                border: 0.7px solid #409EFF;\n                border-radius: 50%;\n                margin-right: 3px;\n              }\n\n              .active {\n                background: #409EFF;\n                transition: all 0.5s;\n              }\n            }\n          }\n\n          .contentBox {\n            flex: 1;\n            animation: fadeIn 0.5s;\n\n            .searchBox {\n              display: flex;\n              align-items: center;\n              height: 40px;\n\n              input {\n                outline: none;\n                width: 200px;\n                height: 30px;\n                border: 0.7px solid #409EFF;\n                border-radius: 3px;\n                padding-left: 5px;\n              }\n\n              .urlInput {\n                width: 80%;\n              }\n\n              .btn {\n                width: 70px;\n                height: 30px;\n                border-radius: 3px;\n                background: #409EFF;\n                color: #ecf0f1;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                margin-left: 10px;\n              }\n            }\n\n            .handle {\n              margin-bottom: 70px;\n            }\n\n            .searchList {\n              margin-bottom: 30px;\n              background: #fff;\n            }\n          }\n\n          .btnBox {\n            display: flex;\n            justify-content: flex-end;\n\n            > div {\n              width: 70px;\n              height: 30px;\n              border-radius: 3px;\n              background: #409EFF;\n              color: #ecf0f1;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n\n            > div:first-child {\n              margin-right: 7px;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0\n    }\n    to {\n      opacity: 1\n    }\n  }\n</style>\n"]}]}