{"remainingRequest":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/babel-loader/lib/index.js!/Users/edy/Desktop/gitlab/image-hotpot/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/edy/Desktop/gitlab/image-hotpot/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edy/Desktop/gitlab/image-hotpot/src/components/plugin/element/form/el-form-group.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/edy/Desktop/gitlab/image-hotpot/src/components/plugin/element/form/el-form-group.vue","mtime":1628478882844},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/cache-loader/dist/cjs.js","mtime":1625024217486},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/babel-loader/lib/index.js","mtime":1628478904830},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/cache-loader/dist/cjs.js","mtime":1625024217486},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1628478909545}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ElImgUpload from \"./el-img-upload\";\nimport ElImgUploadGroup from \"./el-img-upload-group\";\nexport default {\n  name: 'ElFormGroup',\n  components: {\n    ElImgUpload: ElImgUpload,\n    ElImgUploadGroup: ElImgUploadGroup\n  },\n  props: {\n    labelWidth: {\n      type: Number,\n      default: 120\n    },\n    // 验证规则，参考element\n    formRules: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    // 表单子项列表\n    formItemList: {\n      type: Array,\n      required: true\n    },\n    // 初始化数据\n    initData: {\n      type: Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    confirmBtnName: {\n      type: String,\n      default: '提交'\n    },\n    needBtnLoading: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      isLoading: false,\n      formData: {},\n      deleteArr: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    if (this.initData) {\n      this.formData = this.initData;\n      return;\n    }\n\n    this.formItemList.forEach(function (n) {\n      if (n.type === 'checkbox') {\n        _this.$set(_this.formData, n.key, []);\n      } else {\n        _this.$set(_this.formData, n.key, '');\n      }\n    });\n  },\n  methods: {\n    // 如果删除图片\n    handleUploadDelete: function handleUploadDelete(key) {\n      this.formData[key] = '';\n    },\n    // 上传图片后，将图片信息保存到对应参数中\n    handleUploadChange: function handleUploadChange(url, key) {\n      this.formData[key] = url;\n    },\n    // 上传图片后，将图片信息保存到对应参数中\n    handleUploadGroupChange: function handleUploadGroupChange(list, key) {\n      if (Array.isArray(list)) {\n        this.formData[key] = list;\n      }\n    },\n    handleConfirm: function handleConfirm() {\n      var _this2 = this;\n\n      // 将所有的值加入验证\n      this.$refs['validForm'].validate(function (valid) {\n        if (valid) {\n          // 如果通过验证 是否需要loading\n          if (_this2.needBtnLoading) {\n            _this2.isLoading = true;\n          }\n\n          _this2.$emit('handleConfirm', _this2.formData, _this2.completed);\n        }\n      });\n    },\n    // 取消loading\n    completed: function completed() {\n      this.isLoading = false;\n    },\n    handleChange: function handleChange(item, value) {\n      var _this3 = this;\n\n      this.deleteArr = [];\n      item.option.forEach(function (e) {\n        if (value === e.value) {\n          if (e.filter) {\n            var _this3$deleteArr;\n\n            (_this3$deleteArr = _this3.deleteArr).push.apply(_this3$deleteArr, _toConsumableArray(e.filter));\n          }\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["el-form-group.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"el-form-group\">\n    <el-form ref=\"validForm\" :model=\"formData\" :rules=\"formRules\" :label-width=\"labelWidth + 'px'\">\n      <!--eslint-disable-->\n      <el-form-item\n        v-for=\"(item,index) in formItemList\"\n        v-if=\"!deleteArr.includes(item.key)\"\n        :key=\"index\"\n        :label=\"item.labelName\"\n        :prop=\"item.key\"\n      >\n        <component\n          :is=\"item.component\"\n          v-if=\"item.component\"\n        />\n\n        <slot\n          v-if=\"item.slotName\"\n          :name=\"item.slotName\"\n        />\n\n        <el-input\n          v-if=\"item.type === 'input' && !item.isNumber\"\n          v-model=\"formData[item.key]\"\n          :placeholder=\"item.placeholder\"\n          :disabled=\"item.readonly\"\n          :type=\"item.password ? 'password' : 'text'\"\n          size=\"small\"\n        />\n\n        <el-input\n          v-if=\"item.type === 'input' && item.isNumber\"\n          v-model.number=\"formData[item.key]\"\n          :placeholder=\"item.placeholder\"\n          :disabled=\"item.readonly\"\n          :type=\"item.password ? 'password' : 'text'\"\n          size=\"small\"\n        />\n\n        <el-input\n          v-if=\"item.type === 'textarea'\"\n          v-model=\"formData[item.key]\"\n          :rows=\"item.row || 10\"\n          :placeholder=\"item.placeholder\"\n          type=\"textarea\"\n        />\n\n        <el-select\n          v-if=\"item.type === 'select'\"\n          v-model=\"formData[item.key]\"\n          clearable\n          size=\"small\"\n          :placeholder=\"item.placeholder\"\n          @change=\"handleChange(item, formData[item.key])\"\n        >\n          <el-option\n            v-for=\"o in item.option\"\n            :key=\"o.value\"\n            :label=\"o.label\"\n            :value=\"o.value\"\n          />\n        </el-select>\n\n        <el-radio-group\n          v-if=\"item.type === 'radio'\"\n          v-model=\"formData[item.key]\"\n        >\n          <el-radio\n            v-for=\"o in item.option\"\n            :key=\"o.value\"\n            :label=\"o.value\"\n          >\n            {{ o.label }}\n          </el-radio>\n        </el-radio-group>\n\n        <el-checkbox-group\n          v-if=\"item.type === 'checkbox'\"\n          v-model=\"formData[item.key]\"\n          clearable\n          size=\"small\"\n        >\n          <el-checkbox\n            v-for=\"o in item.option\"\n            :key=\"o.value\"\n            :disabled=\"o.disabled\"\n            :label=\"o.value\"\n          >\n            {{ o.label }}\n          </el-checkbox>\n        </el-checkbox-group>\n\n        <el-date-picker\n          v-if=\"item.type === 'daterange'\"\n          v-model=\"formData[item.key]\"\n          :value-format=\"item.valueFormat || 'yyyy-MM-dd'\"\n          type=\"daterange\"\n          size=\"small\"\n          range-separator=\"~\"\n          start-placeholder=\"起始日期\"\n          end-placeholder=\"截止日期\"\n        />\n\n        <el-date-picker\n          v-if=\"item.type === 'date'\"\n          v-model=\"formData[item.key]\"\n          :value-format=\"item.valueFormat || 'yyyy-MM-dd'\"\n          type=\"date\"\n          size=\"small\"\n          placeholder=\"入职日期\"\n        />\n\n        <ElImgUpload\n          v-if=\"item.type === 'upload'\"\n          :exist-image=\"formData[item.key]\"\n          :place-txt=\"item.placeholder\"\n          @handleDelete=\"handleUploadDelete(item.key)\"\n          @handleChange=\"handleUploadChange($event, item.key)\"\n        />\n\n        <ElImgUploadGroup\n          v-if=\"item.type === 'uploadGroup'\"\n          :exist-image-list=\"formData[item.key]\"\n          @handleChange=\"handleUploadGroupChange($event, item.key)\"\n        />\n      </el-form-item>\n\n      <div style=\"text-align:center\">\n        <slot name=\"btnSlot\" />\n        <el-button :loading=\"isLoading\" type=\"primary\" size=\"small\" @click=\"handleConfirm\">\n          {{ confirmBtnName }}\n        </el-button>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport ElImgUpload from './el-img-upload'\nimport ElImgUploadGroup from './el-img-upload-group'\n\nexport default {\n  name: 'ElFormGroup',\n  components: {\n    ElImgUpload,\n    ElImgUploadGroup\n  },\n  props: {\n    labelWidth: {\n      type: Number,\n      default: 120\n    },\n    // 验证规则，参考element\n    formRules: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    // 表单子项列表\n    formItemList: {\n      type: Array,\n      required: true\n    },\n    // 初始化数据\n    initData: {\n      type: Object,\n      default() {\n        return null\n      }\n    },\n\n    confirmBtnName: {\n      type: String,\n      default: '提交'\n    },\n\n    needBtnLoading: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      isLoading: false,\n      formData: {},\n      deleteArr: []\n    }\n  },\n  created() {\n    if (this.initData) {\n      this.formData = this.initData\n      return\n    }\n    this.formItemList.forEach(n => {\n      if (n.type === 'checkbox') {\n        this.$set(this.formData, n.key, [])\n      } else {\n        this.$set(this.formData, n.key, '')\n      }\n    })\n  },\n  methods: {\n    // 如果删除图片\n    handleUploadDelete(key) {\n      this.formData[key] = ''\n    },\n\n    // 上传图片后，将图片信息保存到对应参数中\n    handleUploadChange(url, key) {\n      this.formData[key] = url\n    },\n\n    // 上传图片后，将图片信息保存到对应参数中\n    handleUploadGroupChange(list, key) {\n      if (Array.isArray(list)) {\n        this.formData[key] = list\n      }\n    },\n    handleConfirm() {\n      // 将所有的值加入验证\n      this.$refs['validForm'].validate(valid => {\n        if (valid) {\n          // 如果通过验证 是否需要loading\n          if (this.needBtnLoading) {\n            this.isLoading = true\n          }\n          this.$emit('handleConfirm', this.formData, this.completed)\n        }\n      })\n    },\n\n    // 取消loading\n    completed() {\n      this.isLoading = false\n    },\n\n    handleChange(item, value) {\n      this.deleteArr = []\n      item.option.forEach(e => {\n        if (value === e.value) {\n          if (e.filter) {\n            this.deleteArr.push(...e.filter)\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\" ref=\"stylesheet/scss\">\n.el-form-group{}\n</style>\n"],"sourceRoot":"src/components/plugin/element/form"}]}