{"remainingRequest":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/babel-loader/lib/index.js!/Users/edy/Desktop/gitlab/image-hotpot/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/edy/Desktop/gitlab/image-hotpot/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edy/Desktop/gitlab/image-hotpot/src/components/plugin/element/form/el-img-upload-group.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/edy/Desktop/gitlab/image-hotpot/src/components/plugin/element/form/el-img-upload-group.vue","mtime":1628478882845},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/cache-loader/dist/cjs.js","mtime":1625024217486},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/babel-loader/lib/index.js","mtime":1628478904830},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/cache-loader/dist/cjs.js","mtime":1625024217486},{"path":"/Users/edy/Desktop/gitlab/image-hotpot/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1628478909545}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ElImgUpload from \"./el-img-upload\";\nvar uploadUrl = process.env.NODE_ENV === 'production' ? 'https://jsonplaceholder.typicode.com/posts/' : 'https://jsonplaceholder.typicode.com/posts/';\nexport default {\n  name: 'ElImgUploadGroup',\n  components: {\n    ElImgUpload: ElImgUpload\n  },\n  props: {\n    existImgList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    length: {\n      type: Number,\n      default: 5\n    }\n  },\n  data: function data() {\n    return {\n      uploadUrl: uploadUrl,\n      imgList: []\n    };\n  },\n  watch: {\n    existImgList: function existImgList(val) {\n      this.imgList = this.existImgList;\n    }\n  },\n  created: function created() {\n    this.imgList = this.existImgList;\n  },\n  methods: {\n    handleDelete: function handleDelete(index) {\n      this.imgList.splice(index, 1);\n    },\n    handleChange: function handleChange(e, index) {\n      this.imgList[index] = e;\n    },\n    handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n      if (this.imgList.length <= this.length - 1) {\n        this.imgList.push(res.fileUrl);\n      } else {\n        // 超出最后一张替换\n        // this.imgList.splice(this.length - 1, 1, res.fileUrl)\n        // 提示\n        this.$message.error('超出上传限制');\n      }\n    },\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n      var isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG或者PNG 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传图片大小不能超过 2MB!');\n      }\n\n      return isJPG && isLt2M;\n    }\n  }\n};",{"version":3,"sources":["el-img-upload-group.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,WAAA;AAEA,IAAA,SAAA,GAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,YAAA,GAAA,6CAAA,GAAA,6CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA,KADA;AAOA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAPA,GALA;AAiBA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,SADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAtBA;AAuBA,EAAA,KAAA,EAAA;AACA,IAAA,YADA,wBACA,GADA,EACA;AACA,WAAA,OAAA,GAAA,KAAA,YAAA;AACA;AAHA,GAvBA;AA4BA,EAAA,OA5BA,qBA4BA;AACA,SAAA,OAAA,GAAA,KAAA,YAAA;AACA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KAHA;AAIA,IAAA,YAJA,wBAIA,CAJA,EAIA,KAJA,EAIA;AACA,WAAA,OAAA,CAAA,KAAA,IAAA,CAAA;AACA,KANA;AAOA,IAAA,mBAPA,+BAOA,GAPA,EAOA,IAPA,EAOA;AACA,UAAA,KAAA,OAAA,CAAA,MAAA,IAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CAAA,OAAA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,QAAA;AACA;AACA,KAhBA;AAiBA,IAAA,kBAjBA,8BAiBA,IAjBA,EAiBA;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,IAAA,KAAA,YAAA,IAAA,IAAA,CAAA,IAAA,KAAA,WAAA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,CAAA;;AACA,UAAA,CAAA,KAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,wBAAA;AACA;;AACA,UAAA,CAAA,MAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,iBAAA;AACA;;AACA,aAAA,KAAA,IAAA,MAAA;AACA;AA3BA;AA/BA,CAAA","sourcesContent":["<template>\n  <div class=\"el-img-upload-group\">\n    <ElImgUpload\n      v-for=\"(i,index) in imgList\"\n      :key=\"index\"\n      :exist-image=\"i\"\n      @handleDelete=\"handleDelete(index)\"\n      @handleChange=\"handleChange($event, index)\"\n    />\n    <el-upload\n      :action=\"uploadUrl\"\n      :show-file-list=\"false\"\n      :on-success=\"handleAvatarSuccess\"\n      :before-upload=\"beforeAvatarUpload\"\n      class=\"avatar-uploader\"\n    >\n      <i class=\"el-icon-plus avatar-uploader-icon\" />\n    </el-upload>\n  </div>\n</template>\n\n<script>\nimport ElImgUpload from './el-img-upload'\n\nconst uploadUrl = process.env.NODE_ENV === 'production' ? 'https://jsonplaceholder.typicode.com/posts/' : 'https://jsonplaceholder.typicode.com/posts/'\nexport default {\n  name: 'ElImgUploadGroup',\n  components: {\n    ElImgUpload\n  },\n  props: {\n    existImgList: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    length: {\n      type: Number,\n      default: 5\n    }\n  },\n  data() {\n    return {\n      uploadUrl,\n      imgList: []\n    }\n  },\n  watch: {\n    existImgList(val) {\n      this.imgList = this.existImgList\n    }\n  },\n  created() {\n    this.imgList = this.existImgList\n  },\n  methods: {\n    handleDelete(index) {\n      this.imgList.splice(index, 1)\n    },\n    handleChange(e, index) {\n      this.imgList[index] = e\n    },\n    handleAvatarSuccess(res, file) {\n      if (this.imgList.length <= this.length - 1) {\n        this.imgList.push(res.fileUrl)\n      } else {\n        // 超出最后一张替换\n        // this.imgList.splice(this.length - 1, 1, res.fileUrl)\n        // 提示\n        this.$message.error('超出上传限制')\n      }\n    },\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png'\n      const isLt2M = file.size / 1024 / 1024 < 2\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG或者PNG 格式!')\n      }\n      if (!isLt2M) {\n        this.$message.error('上传图片大小不能超过 2MB!')\n      }\n      return isJPG && isLt2M\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\" ref=\"stylesheet/scss\">\n.el-img-upload-group{\n  display: flex;\n  >div{\n    margin-right: 20px;\n  }\n}\n</style>\n<style lang=\"scss\">\n  .el-img-upload-group{\n    .el-upload {\n      width: 120px;\n      height: 120px;\n      border: 1px dashed #d9d9d9;\n      border-radius: 6px;\n      cursor: pointer;\n      position: relative;\n      overflow: hidden;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      .el-icon-plus{\n        font-size: 30px;\n        color: #999999;\n      }\n      .el-icon-circle-close{\n        position: absolute;\n        color: #999999;\n        top: 2px;\n        right: 2px;\n        z-index: 100;\n        font-size: 15px;\n        opacity: 0.5;\n        transition: opacity 0.2s;\n        &:hover{\n          opacity: 0.8;\n          color: #ef032a;\n        }\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/components/plugin/element/form"}]}